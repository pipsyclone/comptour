generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id                 String               @id
  name               String
  email              String               @unique
  password           String
  role               String               @default("USER")
  TouristAttractions TouristAttractions[]
  Culture            Cultures[]
  Blog               Blogs[]

  @@map("users")
}

model TouristAttractions {
  taid        String     @id
  userid      String
  name_place  String
  image       String
  description String
  longtitude  Float      @default(0.00)
  latitude    Float      @default(0.00)
  Comment     Comments[]

  // Ketika user di hapus maka data tourist_attractions yang userid nya sama maka akan terhapus
  user Users @relation(fields: [userid], references: [id], onDelete: Cascade)

  @@map("touristattractions")
}

model Cultures {
  id         Int    @id @default(autoincrement())
  taid       String
  userid     String
  name_image String
  image      String

  // Ketika user di hapus maka data culture yang userid nya sama maka akan terhapus
  user Users @relation(fields: [userid], references: [id], onDelete: Cascade)

  @@map("cultures")
}

model Comments {
  id          Int    @id @default(autoincrement())
  taid        String
  userid      String
  name        String
  contact     String
  description String

  TouristAttraction TouristAttractions @relation(fields: [taid], references: [taid], onDelete: Cascade)

  @@map("comments")
}

model Blogs {
  blogid      Int    @id @default(autoincrement())
  userid      String
  image       String
  title       String
  description String

  // Ketika user di hapus maka data culture yang userid nya sama maka akan terhapus
  user Users @relation(fields: [userid], references: [id], onDelete: Cascade)

  @@map("blogs")
}
